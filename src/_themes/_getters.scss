/////////////////////////////////////////////////////////
/// THEME GETTERS
/////////////////////////////////////////////////////////

///
/// Get Active Theme
/// @param {String} $theme
///
@mixin get-theme($theme: $active-theme) {
    $set-theme: if(map-has-key($punica-themes, $theme), $theme, theme-not-found($theme));
	$theme-map: map-get($punica-themes, $set-theme) !global;
    @debug "Compiling #{$set-theme} theme...";
	@content;
	$theme-map: null !global;
}

///
/// Get active theme's value by key
///
/// @param {String} $key
/// @param {String} $sub-key
/// @param {String} $child
///
/// @example theme('name')
/// @example theme('color', 'primary')
/// @example theme('elements', 'button', 'font-weight')
///
@function theme($key, $sub-key: null, $child: null) {
	$theme-map: map-get($theme-map, $key);

	@if $sub-key {
		$theme-map: map-get($theme-map, $sub-key);
		@if $child {
			$theme-map: map-get($theme-map, $child)
		}
	}
	
	@return $theme-map;
}

/// 
/// @param {String} $theme
///
@function theme-not-found($theme) {
    $error: "Invalid theme name: #{$theme}. Punica's theme map does not contains a value associated with #{$theme}. Please check the '_themes/index.scss' file.";
    @error $error;
}